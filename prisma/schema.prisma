// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

datasource db {
  provider = "mysql"
  url      = "mysql://root:G6GH-22Hf-b3bG5hAFFCFGe-C53-cdaF@monorail.proxy.rlwy.net:33637/railway"
}

generator client {
  provider = "prisma-client-js"
}

model User {
  id                   Int       @id @default(autoincrement())
  user_name            String    @unique
  password             String?
  full_name            String?
  avatar               String?
  type                 String?
  email                String?   @unique
  user_id_social       String?
  status               String?
  active               String?
  level                String?
  created_at           DateTime  @default(now())
  updated_at           DateTime  @updatedAt
  last_login           DateTime?
  last_logout          DateTime?
  current_used_product Int?
  has_password         Boolean   @default(true)

  @@map("user")
}

model Friendship {
  id              Int      @id @default(autoincrement())
  user_id         Int
  user_name       String?
  friend_id       Int
  friend_name     String?
  user_fullName   String?
  user_avatar     String?
  friend_fullName String?
  friend_avatar   String?
  isAccept        Boolean
  created_at      DateTime @default(now())

  @@map("friendship")
}

model Messenger {
  id         Int      @id @default(autoincrement())
  user_id    Int
  friend_id  Int
  message    String?  @db.LongText
  image      String?
  isRead     Boolean  @default(false)
  created_at DateTime @default(now())

  @@map("messenger")
}

model ServerMessenger {
  id         Int      @id @default(autoincrement())
  server     Server   @relation(fields: [server_id], references: [id])
  server_id  Int
  user_id    Int
  message    String?  @db.LongText
  image      String?
  created_at DateTime @default(now())

  @@map("server_messenger")
}

model Server {
  id               Int               @id @default(autoincrement())
  server_name      String?
  server_avatar    String?           @db.LongText
  server_messenger ServerMessenger[]
  created_at       DateTime          @default(now())

  @@map("server")
}
